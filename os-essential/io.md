# IO

硬體輸入輸出上的行為大致分為序列\(serial\)和平行\(parallel\)， 相應的介面也就是序列介面和平行接口。 序列硬體通過序列介面與CPU 通信。反過來也是， CPU 通過序列介面與序列設備資料傳輸。 平行設備的訪問類似， 只不過是通過平行介面進行的。

訪問外部硬體有兩個方式：

* **將某個外部設備的記憶體映射到一定范圍的記憶體空間中**， CPU 通過地址匯流排訪問該記憶體區域時會落到外部設備的記憶體中。這種映射讓CPU 訪問外部設備的記憶體就如同訪問主機板上的物理記憶體一樣。
  *  有的設備是這樣做的， 比如顯示卡， 顯示卡是顯示器的適配器， CPU 不直接和顯示器交互，它只和顯卡通信。 顯示卡上有片內存叫顯示記憶體，它被映射到主機物理記憶體上的低端1MB 的0xB8000～ 0xBFFFF。 CPU 訪問這片記憶體就是訪問顯示記憶體， 往這片記憶體上    寫入位元組便是往螢幕上列印內容。 計    算機中處處是分層， 我們要充分相信上一層的工作。
* **外部設備是通過IO介面與CPU 通信的**，CPU 訪問外部設備， 就是訪問IO 介面，由IO介面將訊息傳遞  給另一端的外部設備，也就是說，CPU 從來不知道有這些設備的存在，它只知道自己操作的IO 介面。
  * 如何訪問到IO 介面呢? 答案就是IO 介面上面有一些暫存器，訪問IO 介面本質上就是    訪問這些暫存器，這些暫存器就是常說的埠\(port\)。這些埠是IO 介面給作業系統介面。介面    電路也有自己的思維（系統），看到暫存器中寫了什麼就做出相應的反應。

